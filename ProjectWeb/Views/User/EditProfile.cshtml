@model Profile


<form method="post" enctype="multipart/form-data">
    @using (Html.BeginForm("EditProfile", "User", FormMethod.Post, new { @class = "form-horizontal", role = "form" }))
    {
@Html.ValidationMessage("CreateFailed", new { @class = " alert-danger" })
                <div class="container bootstrap snippet">
                    <div class="row">
                    </div>
                    <div class="row">
                        <div class="col-sm-3">
                            <!--left col-->
                            <div class="text-center">
                                <img src="~/avatar/@Model.Avatar" class="avatar img-circle img-thumbnail" alt="avatar" id="blah">
                                <h6>Upload a different photo...</h6>
                                <input type="file" name="Images" id="file" class="text-center center-block file-upload">
                            </div>
                        </div><!--/col-3-->
                        <div class="col-sm-9">
                            <div class="tab-content">
                                <div class="tab-pane active" id="home">
                                    <hr>
                                    <div class="form-group">
                                        <div class="col-xs-6">
                                            <label for="first_name"><h4>Full name</h4></label>
                                            @Html.TextBoxFor(m => m.FullName, new { @class = "form-control", @Value = Model.Address })
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <div class="col-xs-6">                                   
                                            @Html.TextBoxFor(m => m.IdUser, new { @class = "form-control", @Value = Model.IdUserNavigation.Id , @Type = "Hidden" })
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <div class="col-xs-6">
                                            <label for="address"><h4>Address</h4></label>
                                            @Html.TextBoxFor(m => m.Address, new { @class = "form-control", @Value = Model.Address })
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <div class="col-xs-6">
                                            <label for="phone"><h4>Phone</h4></label>
                                            @Html.TextBoxFor(m => m.Phone, new { @class = "form-control", @Value = Model.Address })
                                        </div>
                                    </div>

                                    <div class="form-group">
                                        <div class="col-xs-12">
                                            <br>
                                            <button class="btn btn-lg btn-success" type="submit"><i class="glyphicon glyphicon-ok-sign"></i> Save</button>
                                            <button class="btn btn-lg" type="reset"><i class="glyphicon glyphicon-repeat"></i> Reset</button>
                                        </div>
                                    </div>
                                    <hr>
                                </div><!--/tab-pane-->
                            </div><!--/tab-pane-->
                        </div><!--/tab-content-->

                    </div><!--/col-9-->
                </div><!--/row-->}
</form>
<script>
    $(document).ready(function (){
        $(document).on('change', '#file', function () {
            var property = document.getElementById("file").files[0];
            var image_name = property.name;
            var imamge_extend = image_name.split(".").pop().toLowerCase();
            if (jQuery.inArray(imamge_extend, ['gif', 'png', 'jpg', 'jpeg']) == -1) {
                alert("Invalid Image file");
            }
            var image_size = property.size;
            if (image_size > 2000000) {
                alert("Your image too big");
            } else {
                var form_data = new FormData();
                form_data.append("file", property);
                $.ajax({
                    url:""
                })
            }
        });
    });
</script>
